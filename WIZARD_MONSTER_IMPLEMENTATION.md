# Wizardæ€ªç‰©å®ç°æ–‡æ¡£

## âœ… å·²åˆ›å»ºçš„æ–‡ä»¶

### 1. WizardMonster.ts
- **è·¯å¾„**: `assets/resources/scripts/WizardMonster.ts`
- **åŠŸèƒ½**: Wizardæ€ªç‰©çš„æ ¸å¿ƒé€»è¾‘ç±»
- **ç»§æ‰¿**: ç»§æ‰¿è‡ªBaseMonster

### 2. WizardAnimationManager.ts
- **è·¯å¾„**: `assets/resources/scripts/WizardAnimationManager.ts`
- **åŠŸèƒ½**: Wizardæ€ªç‰©çš„åŠ¨ç”»ç®¡ç†å™¨
- **ç»§æ‰¿**: ç»§æ‰¿è‡ªBaseAnimationManager

## ğŸ¯ Wizardæ€ªç‰©ç‰¹æ€§

### ä¸Rockæ€ªç‰©çš„å¯¹æ¯”

| å±æ€§ | Rockæ€ªç‰© | Wizardæ€ªç‰© | è¯´æ˜ |
|------|----------|------------|------|
| **æ”»å‡»èŒƒå›´** | 120 | **200** | Wizardæ”»å‡»èŒƒå›´æ›´å¤§ï¼Œé€‚åˆè¿œç¨‹æ”»å‡» |
| **ç§»åŠ¨é€Ÿåº¦** | 80 | 60 | Wizardç§»åŠ¨è¾ƒæ…¢ï¼ˆæ³•å¸ˆç‰¹ç‚¹ï¼‰ |
| **æ”»å‡»åŠ›** | 25 | 30 | Wizardæ”»å‡»åŠ›ç¨é«˜ï¼ˆé­”æ³•æ”»å‡»ï¼‰ |
| **æ”»å‡»é€Ÿåº¦** | 1500ms | 1200ms | Wizardæ”»å‡»é€Ÿåº¦ä¸­ç­‰ |
| **ç”Ÿå‘½å€¼** | 150 | 120 | Wizardè¡€é‡è¾ƒä½ï¼ˆè„†çš®æ³•å¸ˆï¼‰ |

### æ ¸å¿ƒå±æ€§é…ç½®

```typescript
const baseStats: IMonsterStats = {
    speed: 60,           // ç§»åŠ¨è¾ƒæ…¢
    attackPower: 30,     // æ”»å‡»åŠ›è¾ƒé«˜
    attackSpeed: 1200,   // æ”»å‡»é€Ÿåº¦ä¸­ç­‰
    attackRange: 200,    // æ”»å‡»èŒƒå›´å¾ˆå¤§ â­
    maxHealth: 120       // è¡€é‡ä¸­ç­‰
};
```

## ğŸ¨ åŠ¨ç”»ç³»ç»Ÿ

### åŠ¨ç”»æ–‡ä»¶è·¯å¾„
- **åŸºç¡€è·¯å¾„**: `resources/images/ANI/wizard/`
- **åŠ¨ç”»æ–‡ä»¶**:
  - `idle.atlas` - å¾…æœºåŠ¨ç”»
  - `attacking.atlas` - æ”»å‡»åŠ¨ç”»
  - `walking.atlas` - è¡Œèµ°åŠ¨ç”»
  - `dying.atlas` - æ­»äº¡åŠ¨ç”»

### åŠ¨ç”»é…ç½®ç‰¹ç‚¹

```typescript
// å¾…æœºåŠ¨ç”» - æ›´ä¼˜é›…
interval: 120,  // æ¯”Rockç¨æ…¢
wrapMode: 2,    // æ¥å›æ’­æ”¾

// æ”»å‡»åŠ¨ç”» - é­”æ³•æ•ˆæœ
interval: 100,  // æ–½æ³•é€Ÿåº¦
scale: 1.1,     // æ”»å‡»æ—¶æ”¾å¤§
offsetY: -15,   // å‘ä¸Šåç§»ï¼Œæ˜¾ç¤ºé­”æ³•å‡è…¾

// è¡Œèµ°åŠ¨ç”» - è½»ç›ˆç§»åŠ¨
interval: 80,   // è¾ƒå¿«ï¼Œæ˜¾ç¤ºè½»ç›ˆ
wrapMode: 2,    // æ¥å›æ’­æ”¾

// æ­»äº¡åŠ¨ç”» - ä¼˜é›…å€’ä¸‹
interval: 150,  // è¾ƒæ…¢ï¼Œæ˜¾ç¤ºä¼˜é›…
loop: false,    // ä¸å¾ªç¯
```

## âš¡ ç‰¹æ®ŠåŠŸèƒ½

### 1. é­”æ³•æ”»å‡»æ•ˆæœ

```typescript
// é‡å†™æ”»å‡»æ–¹æ³•
protected performAttack(): void {
    console.log(`Wizardæ–½å±•é­”æ³•æ”»å‡»ï¼`);
    
    // æ’­æ”¾æ”»å‡»åŠ¨ç”»
    this.wizardAnimationManager.playAttackingAnimation();
    
    // æ‰§è¡ŒåŸºç¡€æ”»å‡»
    super.performAttack();
    
    // æ·»åŠ é­”æ³•ç‰¹æ•ˆ
    this.playMagicEffect();
}
```

### 2. é­”æ³•ç‰¹æ•ˆç³»ç»Ÿ

**æ”»å‡»ç‰¹æ•ˆ**:
- é­”æ³•é—ªå…‰æ•ˆæœ
- ç¼©æ”¾å’Œé€æ˜åº¦å˜åŒ–
- å¯æ‰©å±•æ·»åŠ ç²’å­æ•ˆæœ

**æ­»äº¡ç‰¹æ•ˆ**:
- é­”æ³•æ¶ˆæ•£æ•ˆæœ
- æ¸éšå’Œç¼©å°åŠ¨ç”»
- ä¼˜é›…çš„æ­»äº¡è¿‡æ¸¡

### 3. è¿œç¨‹æ”»å‡»èƒ½åŠ›

```typescript
// æ£€æŸ¥æ”»å‡»ç›®æ ‡
public canAttackTarget(target: any): boolean {
    const distance = this.getDistanceToPosition(targetSprite.x, targetSprite.y);
    return distance <= this.monsterStats.attackRange; // 200åƒç´ èŒƒå›´
}
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. é¢„åˆ¶ä½“è®¾ç½®

åˆ›å»ºWizardé¢„åˆ¶ä½“æ—¶éœ€è¦ï¼š
- æŒ‚è½½WizardMonsterç»„ä»¶
- æŒ‚è½½WizardAnimationManagerç»„ä»¶
- è®¾ç½®æ­£ç¡®çš„åŠ¨ç”»èµ„æºè·¯å¾„

### 2. ä»£ç åˆ›å»º

```typescript
// é€šè¿‡MonsterManageråˆ›å»º
const monsterManager = MonsterManager.getInstance();
monsterManager.createMonster("Wizard", true, {x: 300, y: 200}, 1)
    .then(wizardSprite => {
        battleField.addChild(wizardSprite);
    });
```

### 3. å±æ€§è®¾ç½®

```typescript
const wizard = wizardSprite.getComponent(WizardMonster);
wizard.setWizardLevel(2);           // è®¾ç½®ç­‰çº§
wizard.isPlayerCamp = true;         // è®¾ç½®é˜µè¥
```

## ğŸ“Š ç­‰çº§ç³»ç»Ÿ

### ç­‰çº§å½±å“

```typescript
// æ¯çº§å¢åŠ 20%å±æ€§
const levelMultiplier = 1 + (this.wizardLevel - 1) * 0.2;

// æ”»å‡»èŒƒå›´ç‰¹æ®Šå¢é•¿
attackRange: baseRange * (1 + (level - 1) * 0.15)  // æ¯çº§å¢åŠ 15%
```

### ç­‰çº§ç¤ºä¾‹

| ç­‰çº§ | æ”»å‡»èŒƒå›´ | æ”»å‡»åŠ› | ç”Ÿå‘½å€¼ |
|------|----------|--------|--------|
| 1 | 200 | 30 | 120 |
| 2 | 230 | 36 | 144 |
| 3 | 260 | 42 | 168 |
| 5 | 320 | 54 | 216 |

## ğŸ® æˆ˜æœ¯ç‰¹ç‚¹

### ä¼˜åŠ¿
- **è¿œç¨‹æ”»å‡»**: 200åƒç´ æ”»å‡»èŒƒå›´ï¼Œå¯ä»¥å®‰å…¨è¾“å‡º
- **é«˜æ”»å‡»åŠ›**: 30ç‚¹åŸºç¡€æ”»å‡»åŠ›ï¼Œé€‚åˆå¿«é€Ÿæ¸…ç†æ•Œäºº
- **é­”æ³•ç‰¹æ•ˆ**: ä¸°å¯Œçš„è§†è§‰æ•ˆæœï¼Œæå‡æ¸¸æˆä½“éªŒ

### åŠ£åŠ¿
- **ç§»åŠ¨ç¼“æ…¢**: 60åƒç´ /ç§’ï¼Œå®¹æ˜“è¢«å¿«é€Ÿå•ä½è¿½å‡»
- **è¡€é‡è¾ƒä½**: 120ç‚¹ç”Ÿå‘½å€¼ï¼Œéœ€è¦ä¿æŠ¤
- **éœ€è¦å®šä½**: è¿œç¨‹å•ä½éœ€è¦åˆé€‚çš„ç«™ä½

### ä½¿ç”¨ç­–ç•¥
- **åæ’è¾“å‡º**: æ”¾ç½®åœ¨åæ’è¿›è¡Œè¿œç¨‹æ”»å‡»
- **é…åˆè‚‰ç›¾**: ä¸é«˜è¡€é‡å•ä½é…åˆä½¿ç”¨
- **æ§åˆ¶è·ç¦»**: åˆ©ç”¨æ”»å‡»èŒƒå›´ä¼˜åŠ¿ä¿æŒå®‰å…¨è·ç¦»

## ğŸ” è°ƒè¯•åŠŸèƒ½

### çŠ¶æ€è°ƒè¯•

```typescript
// è¾“å‡ºWizardè¯¦ç»†ä¿¡æ¯
wizard.debugWizardStatus();

// è¾“å‡ºåŠ¨ç”»çŠ¶æ€
wizardAnimationManager.debugAnimationStatus();

// è·å–Wizardä¿¡æ¯
const info = wizard.getWizardInfo();
console.log(info);
```

### è°ƒè¯•è¾“å‡ºç¤ºä¾‹

```
=== WizardçŠ¶æ€ä¿¡æ¯ ===
ç­‰çº§: 2
ç”Ÿå‘½å€¼: 144/144
æ”»å‡»åŠ›: 36
æ”»å‡»èŒƒå›´: 230
ç§»åŠ¨é€Ÿåº¦: 72
å½“å‰çŠ¶æ€: IDLE
é˜µè¥: ç©å®¶
ç›®æ ‡è·ç¦»: 156.2
```

## ğŸš€ æ‰©å±•å»ºè®®

### 1. é­”æ³•æŠ€èƒ½ç³»ç»Ÿ
- æ·»åŠ ä¸åŒçš„é­”æ³•æŠ€èƒ½
- æŠ€èƒ½å†·å´æ—¶é—´
- é­”æ³•æ¶ˆè€—ç³»ç»Ÿ

### 2. ç‰¹æ•ˆå¢å¼º
- ç²’å­ç³»ç»Ÿé›†æˆ
- æ›´ä¸°å¯Œçš„é­”æ³•ç‰¹æ•ˆ
- æ”»å‡»å¼¹é“æ•ˆæœ

### 3. AIå¢å¼º
- æ™ºèƒ½ç«™ä½ç³»ç»Ÿ
- ä¼˜å…ˆæ”»å‡»ç›®æ ‡é€‰æ‹©
- é€ƒè·‘æœºåˆ¶

è¿™ä¸ªWizardæ€ªç‰©å®ç°äº†ä½ è¦æ±‚çš„æ‰€æœ‰åŠŸèƒ½ï¼Œæ”»å‡»èŒƒå›´æ¯”Rockæ›´å¤§ï¼Œå…¶ä»–å±æ€§ä¿æŒå¹³è¡¡ï¼Œå¹¶ä¸”å…·æœ‰ç‹¬ç‰¹çš„é­”æ³•å¸ˆç‰¹è‰²å’Œä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœï¼

# ğŸ¯ ç”Ÿæˆä½ç½®æµ‹è¯•éªŒè¯

## ğŸ“Š **åœºæ™¯èŠ‚ç‚¹åˆ†æ**

### **spawnAreaèŠ‚ç‚¹**
```
åç§°: spawnArea
ç±»å‹: Sprite
ä½ç½®: (598, 1787) â† è¿™æ˜¯ä¸­å¿ƒç‚¹ä½ç½®
å°ºå¯¸: 1069 x 313
é”šç‚¹: (0.5, 0.5) â† å…³é”®ï¼ä½ç½®æ˜¯ä¸­å¿ƒç‚¹
```

### **BattleFieldèŠ‚ç‚¹**
```
åç§°: BattleField
ç±»å‹: Box
ä½ç½®: (42, 38)
å°ºå¯¸: 1102 x 1905
é”šç‚¹: (0, 0) â† é»˜è®¤é”šç‚¹ï¼Œä½ç½®æ˜¯å·¦ä¸Šè§’
```

## ğŸ§® **ä½ç½®è®¡ç®—éªŒè¯**

### **spawnAreaå®é™…è¾¹ç•Œè®¡ç®—**

```typescript
// ç»™å®šæ•°æ®
const areaCenterX = 598;    // spawnAreaä¸­å¿ƒX
const areaCenterY = 1787;   // spawnAreaä¸­å¿ƒY
const areaWidth = 1069;     // spawnAreaå®½åº¦
const areaHeight = 313;     // spawnAreaé«˜åº¦

// è®¡ç®—å®é™…è¾¹ç•Œ
const areaLeft = areaCenterX - areaWidth / 2;   // 598 - 534.5 = 63.5
const areaRight = areaCenterX + areaWidth / 2;  // 598 + 534.5 = 1132.5
const areaTop = areaCenterY - areaHeight / 2;   // 1787 - 156.5 = 1630.5
const areaBottom = areaCenterY + areaHeight / 2; // 1787 + 156.5 = 1943.5

// å®é™…ç”ŸæˆèŒƒå›´ï¼ˆè€ƒè™‘50åƒç´ è¾¹è·ï¼‰
const margin = 50;
ç”ŸæˆXèŒƒå›´: [113.5, 1082.5]  // [areaLeft + margin, areaRight - margin]
ç”ŸæˆYèŒƒå›´: [1680.5, 1893.5] // [areaTop + margin, areaBottom - margin]
```

### **éªŒè¯è¾¹ç•Œåˆç†æ€§**

```
spawnAreaè¾¹ç•Œ:
- å·¦è¾¹ç•Œ: 63.5
- å³è¾¹ç•Œ: 1132.5
- ä¸Šè¾¹ç•Œ: 1630.5
- ä¸‹è¾¹ç•Œ: 1943.5

ç”ŸæˆèŒƒå›´ï¼ˆå«è¾¹è·ï¼‰:
- X: [113.5, 1082.5] âœ… åœ¨spawnAreaå†…
- Y: [1680.5, 1893.5] âœ… åœ¨spawnAreaå†…

å±å¹•è¾¹ç•Œæ£€æŸ¥:
- å‡è®¾å±å¹•å®½åº¦1200ï¼Œç”ŸæˆXæœ€å¤§1082.5 âœ… ä¸ä¼šè¶…å‡º
- ç”Ÿæˆçš„æ€ªç‰©ä¼šæœ‰è‡ªå·±çš„å°ºå¯¸ï¼Œéœ€è¦è€ƒè™‘æ€ªç‰©ä¸­å¿ƒç‚¹
```

## ğŸ® **å®é™…æµ‹è¯•æ–¹æ³•**

### **æ§åˆ¶å°è¾“å‡ºéªŒè¯**

è¿è¡Œæ¸¸æˆåï¼Œç‚¹å‡»Rockå¡ç‰‡ï¼Œåº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š

```
ç‚¹å‡»äº† Rockå¡ç‰‡
å¼€å§‹ç”Ÿæˆ Rockå¡ç‰‡ é¢„åˆ¶ä½“
spawnAreaä¸­å¿ƒ: (598, 1787), å°ºå¯¸: 1069x313
ç”ŸæˆèŒƒå›´: X[113.5, 1082.5], Y[1680.5, 1893.5]
åŠ è½½Rocké¢„åˆ¶ä½“: prefabs/Rock.lh
è®¾ç½®Rockå±æ€§: é˜µè¥=ç©å®¶, ç­‰çº§=1
Rocké¢„åˆ¶ä½“ç”ŸæˆæˆåŠŸ: Rock_1703123456789, ä½ç½®: (456.7, 1823.4)
å·²æ·»åŠ åˆ°BattleFieldèŠ‚ç‚¹ä¸‹ï¼Œå½“å‰BattleFieldå­èŠ‚ç‚¹æ•°: 2
```

### **è§†è§‰éªŒè¯è¦ç‚¹**

1. **ç”Ÿæˆä½ç½®æ­£ç¡®**ï¼š
   - Rockåº”è¯¥å‡ºç°åœ¨spawnAreaçš„è“è‰²åŠé€æ˜åŒºåŸŸå†…
   - ä¸åº”è¯¥è´´è¾¹ï¼Œåº”è¯¥æœ‰50åƒç´ çš„å®‰å…¨è¾¹è·

2. **èŠ‚ç‚¹å±‚çº§æ­£ç¡®**ï¼š
   - åœ¨LayaAir IDEçš„å±‚çº§é¢æ¿ä¸­
   - æ–°ç”Ÿæˆçš„Rockåº”è¯¥å‡ºç°åœ¨BattleFieldèŠ‚ç‚¹ä¸‹
   - è€Œä¸æ˜¯åœ¨åœºæ™¯æ ¹èŠ‚ç‚¹æˆ–å…¶ä»–åœ°æ–¹

3. **å¤šæ¬¡ç”Ÿæˆæµ‹è¯•**ï¼š
   - è¿ç»­ç‚¹å‡»å¡ç‰‡å¤šæ¬¡
   - æ¯æ¬¡ç”Ÿæˆçš„ä½ç½®åº”è¯¥ä¸åŒï¼ˆéšæœºï¼‰
   - ä½†éƒ½åº”è¯¥åœ¨spawnAreaèŒƒå›´å†…

## ğŸ”§ **å¯èƒ½çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ**

### **é—®é¢˜1ï¼šæ€ªç‰©ç”Ÿæˆåœ¨å±å¹•å¤–**
```typescript
// åŸå› ï¼šæ²¡æœ‰æ­£ç¡®å¤„ç†é”šç‚¹ä¸º0.5çš„æƒ…å†µ
// è§£å†³ï¼šä½¿ç”¨ä¸­å¿ƒç‚¹è®¡ç®—è¾¹ç•Œ
const areaLeft = areaCenterX - areaWidth / 2;  // æ­£ç¡®
// è€Œä¸æ˜¯ï¼šconst areaLeft = areaCenterX;      // é”™è¯¯
```

### **é—®é¢˜2ï¼šæ€ªç‰©æ²¡æœ‰å‡ºç°åœ¨BattleFieldä¸‹**
```typescript
// æ£€æŸ¥BattleFieldèŠ‚ç‚¹æ˜¯å¦æ‰¾åˆ°
if (!this.battleField) {
    console.error("æœªæ‰¾åˆ°BattleFieldèŠ‚ç‚¹ï¼");
    return;
}

// ç¡®ä¿æ·»åŠ åˆ°æ­£ç¡®çš„çˆ¶èŠ‚ç‚¹
this.battleField.addChild(rockSprite);  // æ­£ç¡®
// è€Œä¸æ˜¯ï¼šthis.spawnArea.parent.addChild(rockSprite);  // é”™è¯¯
```

### **é—®é¢˜3ï¼šä½ç½®è®¡ç®—ä¸å‡†ç¡®**
```typescript
// è°ƒè¯•è¾“å‡ºï¼ŒéªŒè¯è®¡ç®—ç»“æœ
console.log(`spawnAreaä¸­å¿ƒ: (${areaCenterX}, ${areaCenterY})`);
console.log(`è®¡ç®—è¾¹ç•Œ: å·¦${areaLeft}, å³${areaRight}, ä¸Š${areaTop}, ä¸‹${areaBottom}`);
console.log(`ç”Ÿæˆä½ç½®: (${randomX}, ${randomY})`);
```

## ğŸ¯ **é¢„æœŸç»“æœ**

### **æˆåŠŸæ ‡å¿—**

1. âœ… **ä½ç½®å‡†ç¡®**ï¼šRockå‡ºç°åœ¨spawnAreaè“è‰²åŒºåŸŸå†…
2. âœ… **è¾¹è·æ­£ç¡®**ï¼šRockä¸ä¼šè´´ç€spawnAreaè¾¹ç¼˜
3. âœ… **èŠ‚ç‚¹å±‚çº§**ï¼šRockå‡ºç°åœ¨BattleFieldèŠ‚ç‚¹ä¸‹
4. âœ… **éšæœºæ€§**ï¼šå¤šæ¬¡ç”Ÿæˆä½ç½®ä¸åŒ
5. âœ… **æ§åˆ¶å°æ—¥å¿—**ï¼šæ˜¾ç¤ºæ­£ç¡®çš„è®¡ç®—è¿‡ç¨‹å’Œç»“æœ

### **æµ‹è¯•æ­¥éª¤**

1. **è¿è¡Œæ¸¸æˆåœºæ™¯**
2. **è§‚å¯ŸspawnAreaçš„è“è‰²åŒºåŸŸä½ç½®**
3. **ç‚¹å‡»Rockå¡ç‰‡**
4. **éªŒè¯Rockæ˜¯å¦åœ¨æ­£ç¡®ä½ç½®ç”Ÿæˆ**
5. **æ£€æŸ¥LayaAir IDEå±‚çº§é¢æ¿ä¸­çš„èŠ‚ç‚¹ç»“æ„**
6. **å¤šæ¬¡ç‚¹å‡»æµ‹è¯•éšæœºæ€§**

## ğŸ“‹ **è°ƒè¯•æŠ€å·§**

å¦‚æœç”Ÿæˆä½ç½®ä¸æ­£ç¡®ï¼Œå¯ä»¥ä¸´æ—¶æ·»åŠ è°ƒè¯•ä»£ç ï¼š

```typescript
// åœ¨calculateSpawnPositionæ–¹æ³•ä¸­æ·»åŠ 
console.log("=== ä½ç½®è®¡ç®—è°ƒè¯• ===");
console.log(`spawnArea.x: ${this.spawnArea.x}`);
console.log(`spawnArea.y: ${this.spawnArea.y}`);
console.log(`spawnArea.width: ${this.spawnArea.width}`);
console.log(`spawnArea.height: ${this.spawnArea.height}`);
console.log(`è®¡ç®—çš„è¾¹ç•Œ: å·¦${areaLeft}, å³${areaRight}, ä¸Š${areaTop}, ä¸‹${areaBottom}`);
console.log(`æœ€ç»ˆç”Ÿæˆä½ç½®: (${randomX}, ${randomY})`);
```

è¿™æ ·å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°æ¯ä¸€æ­¥çš„è®¡ç®—ç»“æœï¼Œä¾¿äºå®šä½é—®é¢˜ã€‚
